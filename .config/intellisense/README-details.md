# detail/doc è‡ªå‹•é©ç”¨ã‚·ã‚¹ãƒ†ãƒ 

## æ¦‚è¦

LaTeX-Workshopã®ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã«ã€`detail`ï¼ˆç°¡æ½”ãªè¡¨ç¤ºï¼‰ã¨`doc`ï¼ˆè©³ç´°èª¬æ˜ï¼‰ã‚’åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã€è‡ªå‹•çš„ã«é©ç”¨ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
.config/intellisense/
â”œâ”€â”€ my-common.json              # ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ my-common.details.json      # detail/docå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ mystyle.json
â”œâ”€â”€ mystyle.details.json
â””â”€â”€ apply-details.js            # é©ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```

## detailsãƒ•ã‚¡ã‚¤ãƒ«ã®æ›¸ãæ–¹

### ãƒ•ã‚¡ã‚¤ãƒ«å
ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰`.json`ã‚’é™¤ã„ãŸéƒ¨åˆ†ã«`.details.json`ã‚’ä»˜ã‘ã‚‹ã€‚
- `my-common.json` â†’ `my-common.details.json`
- `mystyle.json` â†’ `mystyle.details.json`

### ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```json
{
  "macros": {
    "ãƒã‚¯ãƒ­å": {
      "detail": "ç°¡æ½”ãªè¡¨ç¤ºï¼ˆè¨˜å·ãªã©ï¼‰",
      "doc": "è©³ç´°ãªèª¬æ˜"
    }
  },
  "envs": {
    "ç’°å¢ƒå": {
      "detail": "ç°¡æ½”ãªè¡¨ç¤º",
      "doc": "è©³ç´°ãªèª¬æ˜"
    }
  }
}
```

### ä¾‹

```json
{
  "macros": {
    "naturalnumbers": {
      "detail": "â„•",
      "doc": "è‡ªç„¶æ•°å…¨ä½“ã®é›†åˆ"
    },
    "integers": {
      "detail": "â„¤",
      "doc": "æ•´æ•°å…¨ä½“ã®é›†åˆ"
    },
    "tuple": {
      "doc": "ã‚¿ãƒ—ãƒ«è¡¨è¨˜ã‚’ç”Ÿæˆ"
    }
  },
  "envs": {
    "theorem": {
      "doc": "å®šç†ç’°å¢ƒ"
    }
  }
}
```

**æ³¨æ„**: 
- `detail`ã¾ãŸã¯`doc`ã®ã©ã¡ã‚‰ã‹ä¸€æ–¹ã®ã¿æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™
- **æ—¢å­˜ã®detail/docãŒã‚ã‚‹å ´åˆã‚‚ä¸Šæ›¸ãã•ã‚Œã¾ã™**
- `null`ã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‰Šé™¤ã§ãã¾ã™

### nullã‚’ä½¿ã£ãŸå‰Šé™¤ã®ä¾‹

```json
{
  "macros": {
    "somecommand": {
      "detail": null,  // æ—¢å­˜ã®detailã‚’å‰Šé™¤
      "doc": "æ–°ã—ã„èª¬æ˜"  // docã¯ä¸Šæ›¸ã
    }
  }
}
```

## ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
cd .config/intellisense

# å…¨ã¦ã®ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã«é©ç”¨
node apply-details.js

# ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿
node apply-details.js my-common.json
node apply-details.js my-common.json mystyle.json
```

### æ¨å¥¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. **parse-cwl.tsã§JSONã‚’ç”Ÿæˆ**
   ```bash
   cd .config/LaTeX-Workshop/dev
   ls cwl | xargs -I {} ../node_modules/.bin/ts-node parse-cwl.ts {}
   ```

2. **ç”Ÿæˆã•ã‚ŒãŸJSONã‚’é…ç½®**
   ```bash
   cp packages/*.json ../../intellisense/
   ```

3. **detail/docã‚’é©ç”¨**
   ```bash
   cd ../../intellisense
   node apply-details.js
   ```

ã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã‚ˆã‚Šã€parse-cwlå®Ÿè¡Œå¾Œã‚‚æ‰‹å‹•ã§è¿½åŠ ã—ãŸdetail/docæƒ…å ±ã‚’å¤±ã‚ãšã«æ¸ˆã¿ã¾ã™ã€‚

## å‡ºåŠ›ä¾‹

å®Ÿè¡Œã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼š

```
ğŸ“ ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®å…¨ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†ã—ã¾ã™

ğŸ“ å‡¦ç†ä¸­: my-common.json
âœ… my-common: ãƒã‚¯ãƒ­ 22å€‹ï¼ˆä¸Šæ›¸ã22ï¼‰ã€ç’°å¢ƒ 18å€‹ï¼ˆä¸Šæ›¸ã18ï¼‰ã«é©ç”¨ã—ã¾ã—ãŸ

ğŸ“ å‡¦ç†ä¸­: mystyle.json
âœ… mystyle: ãƒã‚¯ãƒ­ 19å€‹ï¼ˆä¸Šæ›¸ã0ï¼‰ã€ç’°å¢ƒ 0å€‹ï¼ˆä¸Šæ›¸ã0ï¼‰ã«é©ç”¨ã—ã¾ã—ãŸ

ğŸ‰ å®Œäº†ã—ã¾ã—ãŸ
```

**ä¸Šæ›¸ãã‚«ã‚¦ãƒ³ãƒˆ**: æ—¢å­˜ã®detailã¾ãŸã¯docãŒã‚ã£ãŸã‚‚ã®ã‚’ä¸Šæ›¸ãã—ãŸæ•°ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### detailsãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```
â­ï¸  filename: detailsãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“
```

â†’ `<filename>.details.json`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡¦ç†ã•ã‚Œãªã„

â†’ ãƒ•ã‚¡ã‚¤ãƒ«åãŒ`.json`ã§çµ‚ã‚ã‚Šã€`.details.json`ã§ã¯ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

## æŠ€è¡“ä»•æ§˜

### detail
- è£œå®Œå€™è£œãƒªã‚¹ãƒˆã®å³å´ã«è¡¨ç¤ºã•ã‚Œã‚‹
- ä¸»ã«Unicodeè¨˜å·ãªã©ã®è¦–è¦šçš„æƒ…å ±
- ä¾‹: `"â„•"`, `"âˆ‘"`, `"Hom"`

### doc
- è£œå®Œå€™è£œé¸æŠæ™‚ã®ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ã«è¡¨ç¤ºã•ã‚Œã‚‹
- ã‚³ãƒãƒ³ãƒ‰ã®è©³ç´°ãªèª¬æ˜
- Markdownå½¢å¼ã‚‚ä½¿ç”¨å¯èƒ½

## å‚è€ƒ

- [LaTeX-Workshopå…¬å¼ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/James-Yu/LaTeX-Workshop)
- [dev/README.md](https://github.com/James-Yu/LaTeX-Workshop/blob/master/dev/README.md) - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä»•æ§˜
