\ProvidesPackage{my-makeidx}[2024/06/12 Custom makeidx settings]

% Packages --------------------------------------

\RequirePackage{makeidx}
\RequirePackage{luatexja-ruby} % ルビ作成用

% Makeindex -------------------------------------

% 用語定義を行う．
% 
% 第1引数：読み（オプション）
% 第2引数：用語（必須）
% 第3引数：別名（オプション）
% 
% TODO: 別名も\index{#3|seealso{#1}}で登録できるようにしたい！
% 
% 使用例：\Term[へんびぶんほうていしき]{偏微分方程式}[Partial Differential Equation; PDE]
%   -> 偏微分方程式（Partial Differential Equation; PDE）
\NewDocumentCommand\term{o m o}{%
  \IfValueTF{#1}{\emph{\ruby{#2}{#1}}\index{#1@#2}}{\emph{#2}\index{#2}}%
  \IfValueT{#3}{（#3）}%
}